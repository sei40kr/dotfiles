# ==========================================
# Variables
# ==========================================

general {
  border_size = 2
  col.active_border = rgba(7aa2f7ff) rgba(7aa2f7ff)
  col.inactive_border = rgba(414868aa) rgba(414868aa)
}

decoration {
  rounding = 16
  dim_inactive = true
  dim_strength = 0.1
  border_part_of_window = false
}

group {
  groupbar {
    font_size = 13
    height = 32
  }
}

input {
  # 2 - Cursor focus will be detached from keyboard focus.
  #     Clicking on a window will move keyboard focus to that window.
  follow_mouse = 2
}

render {
  # FIXME: WezTerm crashes on startup due to NVIDIA explicit sync issues.
  #  So disabling it for now: wezterm/wezterm#6831, wezterm/wezterm#6998
  # NOTE: render:explicit_sync option is going to be removed in next Hyprland
  #  release:
  #  https://github.com/hyprwm/Hyprland/issues/8424#issuecomment-2988025855
  # explicit_sync = 0
  explicit_sync = 1
}

# ==========================================
# Binds
# ==========================================

$mainMod = SUPER

$left = h
$down = j
$up = k
$right = l

## Launch:

# Application
bind = $mainMod, space, execr, rofi -modi drun -show drun

# Browser
bind = $mainMod SHIFT, return, execr, sensible-browser

# Terminal
bind = $mainMod, return, execr, sensible-terminal

## Navigate:

# Next Workspace
bind = $mainMod, right, workspace,+1
bind = $mainMod, tab,   workspace,+1

# Previous Workspace
bind = $mainMod,       left, workspace,-1
bind = $mainMod SHIFT, tab,  workspace,-1

# Relative Window
bind = $mainMod, $left,  movefocus, l
bind = $mainMod, $down,  movefocus, d
bind = $mainMod, $up,    movefocus, u
bind = $mainMod, $right, movefocus, r
bind = $mainMod, left,   movefocus, l
bind = $mainMod, down,   movefocus, d
bind = $mainMod, up,     movefocus, u
bind = $mainMod, right,  movefocus, r

# Scratchpad
bind = $mainMod, minus, togglespecialworkspace,

# Workspaces 1-10
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

## Modify:

# Window Position
bind = $mainMod SHIFT, $left,  movewindoworgroup, l
bind = $mainMod SHIFT, $down,  movewindoworgroup, d
bind = $mainMod SHIFT, $up,    movewindoworgroup, u
bind = $mainMod SHIFT, $right, movewindoworgroup, r
bind = $mainMod SHIFT, left,   movewindoworgroup, l
bind = $mainMod SHIFT, down,   movewindoworgroup, d
bind = $mainMod SHIFT, up,     movewindoworgroup, u
bind = $mainMod SHIFT, right,  movewindoworgroup, r

# Move Window to Workspace 1-10
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3
bind = $mainMod SHIFT, 4, movetoworkspacesilent, 4
bind = $mainMod SHIFT, 5, movetoworkspacesilent, 5
bind = $mainMod SHIFT, 6, movetoworkspacesilent, 6
bind = $mainMod SHIFT, 7, movetoworkspacesilent, 7
bind = $mainMod SHIFT, 8, movetoworkspacesilent, 8
bind = $mainMod SHIFT, 9, movetoworkspacesilent, 9
bind = $mainMod SHIFT, 0, movetoworkspacesilent, 10

# Move to Scratchpad
bind = $mainMod CONTROL, m, movetoworkspace, special

# Window Floating Toggle
bind = $mainMod SHIFT, f, togglefloating,

# Window Fullscreen Toggle
bind = $mainMod, f, fullscreen, 0

## Resize

bind = $mainMod, r, submap, resize

submap = resize
bind = , $left,  resizeactive, -10 0
bind = , $down,  resizeactive, 0 10
bind = , $up,    resizeactive, 0 -10
bind = , $right, resizeactive, 10 0
bind = , left,   resizeactive, -10 0
bind = , down,   resizeactive, 0 10
bind = , up,     resizeactive, 0 -10
bind = , right,  resizeactive, 10 0
bind = , return, submap, reset
bind = , escape, submap, reset
submap = reset

## Session:

# Reload Hyprland Config
bind = $mainMod SHIFT, c, execr, hyprctl reload

# Lock Screen
bind = $mainMod, escape, execr, systemctl --user kill -s SIGUSR1 swayidle.service

# Logout
bind = $mainMod SHIFT, e, exit,

# Exit App
bind = $mainMod SHIFT, q, killactive,

# ==========================================
# Window Rules
# ==========================================

windowrule = workspace 1, class:firefox
windowrule = workspace 1, class:google-chrome
windowrule = float, class:chrome-nngceckbapebfimnlniiiahkandclblb-.*
windowrule = workspace 1, class:chrome-nngceckbapebfimnlniiiahkandclblb-.*
windowrule = workspace 1, class:Vivaldi-stable
windowrule = float, class:Vivaldi-stable, initialTitle:Bitwarden - .*
windowrule = workspace 2, class:jetbrains-idea
windowrule = workspace 2, class:jetbrains-datagrip
windowrule = workspace 2, class:jetbrains-dataspell
windowrule = workspace 2, class:org.zealdocs.zeal
windowrule = workspace 2, class:kitty
windowrule = workspace 2, class:org.wezfurlong.wezterm
windowrule = workspace 3, class:org.pwmt.zathura
windowrule = workspace 3, class:ristretto
windowrule = workspace 3, class:Thunar
windowrule = workspace 3, class:vlc
windowrule = workspace 4, class:Slack
windowrule = workspace 4, class:zoom
windowrule = workspace 5, class:steam
windowrule = float, class:steam, initialTitle:Friends List
windowrule = float, class:steam, initialTitle:Recordings & Screenshots
windowrule = float, class:steam, initialTitle:Steam Settings

windowrule = fullscreen, class:steam_app_.*
windowrule = workspace 5, class:steam_app_.*
windowrule = float, class:Bitwarden
windowrule = float, class:gnome-pomodoro
windowrule = float, class:org.fcitx.

# ==========================================
# XWayland
# ==========================================

xwayland {
  force_zero_scaling = true
}

# vim: set ft=hyprlang
